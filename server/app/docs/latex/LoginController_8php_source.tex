\hypertarget{LoginController_8php_source}{}\doxysection{Login\+Controller.\+php}
\label{LoginController_8php_source}\index{src/Application/Actions/Login/LoginController.php@{src/Application/Actions/Login/LoginController.php}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00001}00001 <?php}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00003}00003 declare(strict\_types=1);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00004}00004 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00005}00005 \textcolor{keyword}{namespace }App\(\backslash\)Application\(\backslash\)Actions\(\backslash\)Login;}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00007}00007 use Psr\(\backslash\)Http\(\backslash\)Message\(\backslash\)ResponseInterface as Response;}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00008}00008 use Psr\(\backslash\)Http\(\backslash\)Message\(\backslash\)ServerRequestInterface as Request;}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00009}00009 use \mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller}{App\(\backslash\)Application\(\backslash\)Actions\(\backslash\)Controller}};}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00010}00010 use \mbox{\hyperlink{classApp_1_1Application_1_1db_1_1Login_1_1LoginModel}{App\(\backslash\)Application\(\backslash\)db\(\backslash\)Login\(\backslash\)LoginModel}};}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00017}\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController}{00017}} \textcolor{keyword}{class }\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController}{LoginController}} \textcolor{keyword}{extends} \mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller}{Controller}}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00018}00018 \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00019}00019 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00031}\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController_a671a2d6c3de1eb308c7771b7a50011b4}{00031}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController_a671a2d6c3de1eb308c7771b7a50011b4}{login}}(Request \$request, Response \$response, array \$args): Response}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00032}00032     \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00033}00033         \$data = \$request-\/>getParsedBody();}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00034}00034         \$email = \$data[\textcolor{stringliteral}{"{}email"{}}];}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00035}00035         \$password = \$data[\textcolor{stringliteral}{"{}password"{}}];}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00037}00037         \$res = \mbox{\hyperlink{classApp_1_1Application_1_1db_1_1Login_1_1LoginModel_acbc9f74090cb0871688f5175592183a8}{LoginModel::login}}(\$email, \$password);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00039}00039         \textcolor{keywordflow}{if} (gettype(\$res) === \textcolor{stringliteral}{"{}array"{}}) \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00040}00040             \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, \$res);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00041}00041         \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00043}00043         \textcolor{keywordflow}{if} (\$res === 200) \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00044}00044             \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}userInfo"{}} => \textcolor{stringliteral}{"{}login completo"{}}]);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00045}00045         \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00047}00047         \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}error"{}} => \textcolor{stringliteral}{"{}algo fue mal => "{}} . \$res], \$res);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00048}00048     \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00061}\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController_a409cd06dc456056c048082db0de080eb}{00061}}     \textcolor{keyword}{public} \textcolor{keyword}{function} \mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Login_1_1LoginController_a409cd06dc456056c048082db0de080eb}{rol}}(Request \$request, Response \$response, array \$args)}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00062}00062     \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00063}00063         \$id = (isset(\$args[\textcolor{stringliteral}{"{}id"{}}])) ? \$args[\textcolor{stringliteral}{"{}id"{}}] : \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00064}00064         \textcolor{keywordflow}{if} (\$id === \textcolor{keyword}{null}) \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}error"{}} => \textcolor{stringliteral}{"{}Method Not Allowed"{}}], 405);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00065}00065 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00066}00066         \$res = \mbox{\hyperlink{classApp_1_1Application_1_1db_1_1Login_1_1LoginModel_a26d20fbd3d815fe6691f9eff7ea656e8}{LoginModel::rol}}(\$id);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00067}00067         \textcolor{keywordflow}{if} (gettype(\$res) === \textcolor{stringliteral}{"{}array"{}}) \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00068}00068             \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, \$res);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00069}00069         \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00070}00070 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00072}00072         \textcolor{keywordflow}{if} (\$res === 500) \{}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00073}00073             \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}error"{}} => \textcolor{stringliteral}{"{}something wrong"{}}], \$res);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00074}00074         \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00076}00076         \textcolor{keywordflow}{if} (\$res === 404) \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}rol"{}} => \textcolor{stringliteral}{"{}0"{}}], 200);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00078}00078         \textcolor{keywordflow}{return} \$this-\/>\mbox{\hyperlink{classApp_1_1Application_1_1Actions_1_1Controller_aac9fe26dc8d186be5155968e5e23afe9}{returnResponse}}(\$response, [\textcolor{stringliteral}{"{}rol"{}} => 1]);}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00079}00079     \}}
\DoxyCodeLine{\Hypertarget{LoginController_8php_source_l00080}00080 \}}

\end{DoxyCode}
